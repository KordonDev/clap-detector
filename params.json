{"name":"Clap-detector","tagline":"Clap detection module  for node js","body":"## Synopsis\r\n\r\nClapDetector is a hand clap detection module for nodejs (iojs). It detects a clap or a series of claps and allows you to trigger callbacks whenever these events happen.\r\nI created this module for my personal assistant project on a Raspberry Pi (raspbian). The clap detection allows me to activate the assistant whenever I need it (and prevents it from continuously listening out for instructions or interpreting random noises as instructions)\r\n\r\n## Requirements\r\nThis module works on linux based OS (raspbian, Ubuntu, Debian...) using alsa for audio and a working microphone or Mac OS X using coreaudio.\r\n\r\n## Installation\r\n\r\nThis module requires sox, \"the Swiss Army knife of sound processing programs\" (http://sox.sourceforge.net/) to be installed\r\n### Linux\r\n```bash\r\nsudo apt-get install sox\r\n```\r\n### Mac OS X\r\n```bash\r\nbrew install sox\r\n```\r\n\r\n### npm install\r\nYou can simply add this module to your node.js project with\r\n```bash\r\n// sudo might be required depending on your system\r\nnpm install --save clap-detector\r\n```\r\n\r\n## Usage\r\n\r\nThere are thee public methods you can use:\r\n- clapDetector.start(clapConfig);\r\n=> this needs to be called to initialize clap detection. The clapConfig object is not mandatory but you can use it to overwrite the default configuration (see next section)\r\n- clapDetector.onClap(yourcallbackfunctionhere)\r\n=> register a callback that will be triggered whenever a clap of hand is detected\r\n- clapDetector.onClaps(numberOfClaps, delay, yourcallbackfunctionhere)\r\n=> register a callback that will be triggered whenever a series of claps (determined by the number of claps) is detected within the period of time you've specified (delay).\r\n\r\n```bash\r\n// Require the module\r\nvar clapDetector = require('clap-detector');\r\n\r\n// Define configuration\r\nvar clapConfig = {\r\n   AUDIO_SOURCE: 'alsa hw:1,0'// default for linux\r\n};\r\n\r\n// Start clap detection\r\nclapDetector.start(clapConfig);\r\n\r\n// Register on clap event\r\nclapDetector.onClap(function() {\r\n    //console.log('your callback code here ');\r\n});\r\n\r\n// Register to a serie of 3 claps occuring within 2 seconds\r\nclapDetector.onClaps(3, 2000, function(delay) {\r\n    //console.log('your callback code here ');\r\n});\r\n```\r\n\r\n## Configuration\r\n\r\nYou can pass a configuration object at the initialisation time (clapDetector.init(yourConfObject)). If you don't the following config will be used. You should at least provide the audio input (if different from the default config).\r\n\r\n```bash\r\n// DEFAULT CONFIG\r\nvar CONFIG = {\r\n        AUDIO_SOURCE: 'hw:1,0', // this is your microphone input. If you don't know it you can refer to this thread (http://www.voxforge.org/home/docs/faq/faq/linux-how-to-determine-your-audio-cards-or-usb-mics-maximum-sampling-rate)\r\n        DETECTION_PERCENTAGE_START : '5%', // minimum noise percentage threshold necessary to start recording sound\r\n        DETECTION_PERCENTAGE_END: '5%',  // minimum noise percentage threshold necessary to stop recording sound\r\n        CLAP_AMPLITUDE_THRESHOLD: 0.7, // minimum amplitude threshold to be considered as clap\r\n        CLAP_ENERGY_THRESHOLD: 0.3,  // maximum energy threshold to be considered as clap\r\n        MAX_HISTORY_LENGTH: 10 // all claps are stored in history, this is its max length\r\n    };\r\n```\r\n\r\nIf you wish to improve the clap detection you can fiddle with the CLAP_AMPLITUDE_THRESHOLD and CLAP_ENERGY_THRESHOLD values. Depending on your microphone these might need to be modified.\r\n\r\n## Tests\r\n\r\nThese will be added soon. Please do not hesitate to add some !\r\n\r\n## About the Author\r\n\r\nI am a full-stack Javascript developer based in Lyon, France.\r\n\r\n[Check out my website](http://www.thomschell.com)\r\n\r\n## License\r\n\r\nclap-detector is dual licensed under the MIT license and GPL.\r\nFor more information click [here](https://opensource.org/licenses/MIT).\r\n","google":"UA-69967910-3","note":"Don't delete this file! It's used internally to help with page regeneration."}